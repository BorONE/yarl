{
    // https://marketplace.visualstudio.com/items/?itemName=emeraldwalk.RunOnSave
    "emeraldwalk.runonsave": {
        "commands": [
            {
                "match": ".*\\.proto",
                "cmd": "export PATH=$PATH:~/go/bin; protoc -I${workspaceFolder} --experimental_allow_proto3_optional --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative ${file}",
            },
            {
                "match": ".*\\.proto",
                "cmd": "cd ${workspaceFolder}/frontend; npx buf generate",
            },
        ]
    },
    "files.readonlyInclude": {
        "**/*.pb.go": true
    }
}